<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:insert="partial/partials :: head">
    <meta charset="UTF-8">
    <title>Find Recipe</title>
</head>
<body>
<script>
    fetch('https://www.themealdb.com/api/json/v1/1/random.php')
        .then(response => response.json())
        .then(data => {
            const meal = data.meals[0];
            const img = document.createElement('img');
            img.src = meal.strMealThumb;
            const displayMealThumb = document.getElementById('displayMealThumb1');
            displayMealThumb.appendChild(img);
            const displayMealTitle = document.getElementById('displayMealTitle1');
            const mealTitle = document.createElement('h2');
            mealTitle.textContent = meal.strMeal;
            displayMealTitle.appendChild(mealTitle);
            const displayMeal = document.getElementById('displayMeal');
            const mealInstructions = document.createElement('p');
            mealInstructions.textContent = meal.strInstructions;
            displayMeal.appendChild(mealInstructions);
        })
        .catch(error => console.error(error));
    fetch('https://www.themealdb.com/api/json/v1/1/random.php')
        .then(response => response.json())
        .then(data => {
            const meal = data.meals[0];
            const img = document.createElement('img');
            img.src = meal.strMealThumb;
            const displayMealThumb = document.getElementById('displayMealThumb2');
            displayMealThumb.appendChild(img);
            const displayMealTitle = document.getElementById('displayMealTitle2');
            const mealTitle = document.createElement('h2');
            mealTitle.textContent = meal.strMeal;
            displayMealTitle.appendChild(mealTitle);
            const displayMeal = document.getElementById('displayMeal');
            const mealInstructions = document.createElement('p');
            mealInstructions.textContent = meal.strInstructions;
            displayMeal.appendChild(mealInstructions);
        })
        .catch(error => console.error(error));
    fetch('https://www.themealdb.com/api/json/v1/1/random.php')
        .then(response => response.json())
        .then(data => {
            const meal = data.meals[0];
            const img = document.createElement('img');
            img.src = meal.strMealThumb;
            const displayMealThumb = document.getElementById('displayMealThumb3');
            displayMealThumb.appendChild(img);
            const displayMealTitle = document.getElementById('displayMealTitle3');
            const mealTitle = document.createElement('h2');
            mealTitle.textContent = meal.strMeal;
            displayMealTitle.appendChild(mealTitle);
            const displayMeal = document.getElementById('displayMeal');
            const mealInstructions = document.createElement('p');
            mealInstructions.textContent = meal.strInstructions;
            displayMeal.appendChild(mealInstructions);
        })
        .catch(error => console.error(error));
    fetch('https://www.themealdb.com/api/json/v1/1/random.php')
        .then(response => response.json())
        .then(data => {
            const meal = data.meals[0];
            const img = document.createElement('img');
            img.src = meal.strMealThumb;
            const displayMealThumb = document.getElementById('displayMealThumb4');
            displayMealThumb.appendChild(img);
            const displayMealTitle = document.getElementById('displayMealTitle4');
            const mealTitle = document.createElement('h2');
            mealTitle.textContent = meal.strMeal;
            displayMealTitle.appendChild(mealTitle);
            const displayMeal = document.getElementById('displayMeal');
            const mealInstructions = document.createElement('p');
            mealInstructions.textContent = meal.strInstructions;
            displayMeal.appendChild(mealInstructions);
        })
        .catch(error => console.error(error));
    fetch('https://www.themealdb.com/api/json/v1/1/random.php')
        .then(response => response.json())
        .then(data => {
            const meal = data.meals[0];
            const img = document.createElement('img');
            img.src = meal.strMealThumb;
            const displayMealThumb = document.getElementById('displayMealThumb5');
            displayMealThumb.appendChild(img);
            const displayMealTitle = document.getElementById('displayMealTitle5');
            const mealTitle = document.createElement('h2');
            mealTitle.textContent = meal.strMeal;
            displayMealTitle.appendChild(mealTitle);
            const displayMeal = document.getElementById('displayMeal');
            const mealInstructions = document.createElement('p');
            mealInstructions.textContent = meal.strInstructions;
            displayMeal.appendChild(mealInstructions);
        })
        .catch(error => console.error(error));
    fetch('https://www.themealdb.com/api/json/v1/1/random.php')
        .then(response => response.json())
        .then(data => {
            const meal = data.meals[0];
            const img = document.createElement('img');
            img.src = meal.strMealThumb;
            const displayMealThumb = document.getElementById('displayMealThumb6');
            displayMealThumb.appendChild(img);
            const displayMealTitle = document.getElementById('displayMealTitle6');
            const mealTitle = document.createElement('h2');
            mealTitle.textContent = meal.strMeal;
            displayMealTitle.appendChild(mealTitle);
            const displayMeal = document.getElementById('displayMeal');
            const mealInstructions = document.createElement('p');
            mealInstructions.textContent = meal.strInstructions;
            displayMeal.appendChild(mealInstructions);
        })
        .catch(error => console.error(error));
</script>
<nav th:insert="partial/partials :: navbar"></nav>
<div class="container-fluid content">
    <h2 style="text-align: center;" sec:authorize="!isAuthenticated()">Search for Recipes</h2>
    <h2 style="text-align: center;" sec:authorize="isAuthenticated()">Recommended Recipes for You</h2>
<!--    <h2 style="text-align: center;">Recommended Recipes</h2>-->

        <div class="d-flex justify-content-between row">
            <form class="d-flex col-6">
                <input aria-label="Search" class="form-control" placeholder="Search" style="width: 20rem; height:4rem;"
                       type="search">
                <button class="btn btn-outline-success" style="height:4rem;" type="submit">Search</button>
            </form>
            <div class="col-6">
                <select class=" mb-3 form-select" id="category" multiple style="width: 30rem; height: 4rem">
                    <option selected value="0">Show All</option>
                    <option value="1">Beef</option>
                    <option value="2">Breakfast</option>
                    <option value="3">Chicken</option>
                    <option value="4">Dessert</option>
                    <option value="5">Goat</option>
                    <option value="6">Lamb</option>
                    <option value="7">Pasta</option>
                    <option value="8">Pork</option>
                    <option value="9">Seafood</option>
                    <option value="10">Side</option>
                    <option value="11">Starter</option>
                    <option value="12">Vegan</option>
                    <option value="13">Vegetarian</option>
                    <option value="14">Miscellaneous</option>
                </select>
            </div>
        </div>

    <hr>
    <div class="body d-flex justify-content-evenly">
        <div id="carouselExampleDark" class="carousel carousel-dark slide" data-bs-ride="carousel">
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="1" aria-label="Slide 2"></button>
                <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="2" aria-label="Slide 3"></button>
            </div>
            <div class="carousel-inner">
                <div class="carousel-item active " data-bs-interval="10000" sec:authorize="isAuthenticated()">
                    <a th:href="@{/recipe}">
                        <div id="displayMealThumb1"></div>
                    </a>
                    <h2 id="displayMealTitle1"></h2>
                    <div class="carousel-caption d-none d-md-block"></div>
                </div>
                <div class="carousel-item" data-bs-interval="2000">
                    <a th:href="@{/recipe}">
                        <div id="displayMealThumb2"></div>
                    </a>
                    <h2 id="displayMealTitle2"></h2>
                    <div class="carousel-caption d-none d-md-block"></div>
                </div>
                <div class="carousel-item">
                    <a th:href="@{/recipe}">
                        <div id="displayMealThumb3"></div>
                    </a>
                    <h2 id="displayMealTitle3"></h2>
                    <div class="carousel-caption d-none d-md-block"></div>
                </div>
            </div>
            <div class="carousel-inner">
                <div class="carousel-item active " data-bs-interval="10000" sec:authorize="!isAuthenticated()">
                    <a th:href="@{/login}">
                        <div id="displayMealThumb4"></div>
                    </a>
                    <h2 id="displayMealTitle4"></h2>
                    <div class="carousel-caption d-none d-md-block"></div>
                </div>
                <div class="carousel-item" data-bs-interval="2000" sec:authorize="!isAuthenticated()">
                    <a th:href="@{/login}">
                        <div id="displayMealThumb5"></div>
                    </a>
                    <h2 id="displayMealTitle5"></h2>
                    <div class="carousel-caption d-none d-md-block"></div>
                </div>
                <div class="carousel-item" sec:authorize="!isAuthenticated()">
                    <a th:href="@{/login}">
                        <div id="displayMealThumb6"></div>
                    </a>
                    <h2 id="displayMealTitle6"></h2>
                    <div class="carousel-caption d-none d-md-block"></div>
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
    </div>
</div>

<br>
<p class="fw-lighter">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ab accusamus ad aliquid architecto autem corporis cumque deserunt dignissimos eligendi est et eveniet ipsa minus molestias nesciunt officiis omnis optio perspiciatis provident quasi quis quos repudiandae sed tempora ullam vel, velit veritatis vitae voluptate voluptatibus. Adipisci cum dolor et fugiat iste laboriosam molestiae officia, qui similique. Consequatur consequuntur culpa dolor dolorum ducimus eius eos ex illo illum in labore libero minus, nobis odio possimus provident quasi sunt tempora tempore temporibus tenetur totam voluptas! Animi architecto assumenda at culpa cupiditate eligendi error eveniet fuga fugiat illo inventore ipsam ipsum, itaque laboriosam magnam magni maiores nam, necessitatibus nobis nostrum obcaecati provident quam quas sed vel. Aliquid, non, tempora. Aliquam error facilis sunt? Aliquam.</p>
<footer th:insert="partial/partials :: footer"></footer>
</body>
</html>