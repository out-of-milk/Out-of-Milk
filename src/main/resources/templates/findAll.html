<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:insert="partial/partials :: head">
    <meta charset="UTF-8">
    <title>Find Recipe</title>
</head>
<body>
<script>
    fetch('https://www.themealdb.com/api/json/v1/1/random.php')
        .then(response => response.json())
        .then(data => {
            const meal = data.meals[0];
            const img = document.createElement('img');
            img.src = meal.strMealThumb;
            const displayMealThumb = document.getElementById('displayMealThumb1');
            displayMealThumb.appendChild(img);
            const displayMealTitle = document.getElementById('displayMealTitle1');
            const mealTitle = document.createElement('h2');
            mealTitle.textContent = meal.strMeal;
            displayMealTitle.appendChild(mealTitle);
            const displayMeal = document.getElementById('displayMeal');
            const mealInstructions = document.createElement('p');
            mealInstructions.textContent = meal.strInstructions;
            displayMeal.appendChild(mealInstructions);
        })
        .catch(error => console.error(error));
    fetch('https://www.themealdb.com/api/json/v1/1/random.php')
        .then(response => response.json())
        .then(data => {
            const meal = data.meals[0];
            const img = document.createElement('img');
            img.src = meal.strMealThumb;
            const displayMealThumb = document.getElementById('displayMealThumb2');
            displayMealThumb.appendChild(img);
            const displayMealTitle = document.getElementById('displayMealTitle2');
            const mealTitle = document.createElement('h2');
            mealTitle.textContent = meal.strMeal;
            displayMealTitle.appendChild(mealTitle);
            const displayMeal = document.getElementById('displayMeal');
            const mealInstructions = document.createElement('p');
            mealInstructions.textContent = meal.strInstructions;
            displayMeal.appendChild(mealInstructions);
        })
        .catch(error => console.error(error));
    fetch('https://www.themealdb.com/api/json/v1/1/random.php')
        .then(response => response.json())
        .then(data => {
            const meal = data.meals[0];
            const img = document.createElement('img');
            img.src = meal.strMealThumb;
            const displayMealThumb = document.getElementById('displayMealThumb3');
            displayMealThumb.appendChild(img);
            const displayMealTitle = document.getElementById('displayMealTitle3');
            const mealTitle = document.createElement('h2');
            mealTitle.textContent = meal.strMeal;
            displayMealTitle.appendChild(mealTitle);
            const displayMeal = document.getElementById('displayMeal');
            const mealInstructions = document.createElement('p');
            mealInstructions.textContent = meal.strInstructions;
            displayMeal.appendChild(mealInstructions);
        })
        .catch(error => console.error(error));
    fetch('https://www.themealdb.com/api/json/v1/1/random.php')
        .then(response => response.json())
        .then(data => {
            const meal = data.meals[0];
            const img = document.createElement('img');
            img.src = meal.strMealThumb;
            const displayMealThumb = document.getElementById('displayMealThumb4');
            displayMealThumb.appendChild(img);
            const displayMealTitle = document.getElementById('displayMealTitle4');
            const mealTitle = document.createElement('h2');
            mealTitle.textContent = meal.strMeal;
            displayMealTitle.appendChild(mealTitle);
            const displayMeal = document.getElementById('displayMeal');
            const mealInstructions = document.createElement('p');
            mealInstructions.textContent = meal.strInstructions;
            displayMeal.appendChild(mealInstructions);
        })
        .catch(error => console.error(error));
    fetch('https://www.themealdb.com/api/json/v1/1/random.php')
        .then(response => response.json())
        .then(data => {
            const meal = data.meals[0];
            const img = document.createElement('img');
            img.src = meal.strMealThumb;
            const displayMealThumb = document.getElementById('displayMealThumb5');
            displayMealThumb.appendChild(img);
            const displayMealTitle = document.getElementById('displayMealTitle5');
            const mealTitle = document.createElement('h2');
            mealTitle.textContent = meal.strMeal;
            displayMealTitle.appendChild(mealTitle);
            const displayMeal = document.getElementById('displayMeal');
            const mealInstructions = document.createElement('p');
            mealInstructions.textContent = meal.strInstructions;
            displayMeal.appendChild(mealInstructions);
        })
        .catch(error => console.error(error));
    fetch('https://www.themealdb.com/api/json/v1/1/random.php')
        .then(response => response.json())
        .then(data => {
            const meal = data.meals[0];
            const img = document.createElement('img');
            img.src = meal.strMealThumb;
            const displayMealThumb = document.getElementById('displayMealThumb6');
            displayMealThumb.appendChild(img);
            const displayMealTitle = document.getElementById('displayMealTitle6');
            const mealTitle = document.createElement('h2');
            mealTitle.textContent = meal.strMeal;
            displayMealTitle.appendChild(mealTitle);
            const displayMeal = document.getElementById('displayMeal');
            const mealInstructions = document.createElement('p');
            mealInstructions.textContent = meal.strInstructions;
            displayMeal.appendChild(mealInstructions);
        })
        .catch(error => console.error(error));
</script>
<nav th:insert="partial/partials :: navbar"></nav>
<div class="container-fluid content">
    <h2 style="text-align: center;" sec:authorize="!isAuthenticated()">Search for Recipes</h2>
    <h2 style="text-align: center;" sec:authorize="isAuthenticated()">Recommended Recipes for You</h2>

        <div sec:authorize="isAuthenticated()" class="d-flex justify-content-between row">
            <form class="d-flex col-6">
                <input aria-label="Search" class="form-control" placeholder="Search" style="width: 20rem; height:4rem;"
                       type="search">
                <button class="btn btn-outline-success" style="height:4rem;" type="submit">Search</button>
            </form>
            <div class="col-6">
                <select class=" mb-3 form-select" id="category" multiple style="width: 30rem; height: 4rem">
                    <option selected value="0">Show All</option>
                    <option value="1">Beef</option>
                    <option value="2">Breakfast</option>
                    <option value="3">Chicken</option>
                    <option value="4">Dessert</option>
                    <option value="5">Goat</option>
                    <option value="6">Lamb</option>
                    <option value="7">Pasta</option>
                    <option value="8">Pork</option>
                    <option value="9">Seafood</option>
                    <option value="10">Side</option>
                    <option value="11">Starter</option>
                    <option value="12">Vegan</option>
                    <option value="13">Vegetarian</option>
                    <option value="14">Miscellaneous</option>
                </select>
            </div>
        </div>

    <hr>
    <div class="body d-flex justify-content-evenly">
        <div id="carouselExampleDark" class="carousel carousel-dark slide" data-bs-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active " data-bs-interval="10000" sec:authorize="isAuthenticated()">
                    <a th:href="@{'/recipe/' + ${idmeal}}">
                        <img th:src="${strMealThumb}">
                    </a>
                    <h2 id="displayMealTitle1"></h2>
                    <div class="carousel-caption d-none d-md-block"></div>
                </div>
                <div class="carousel-item" data-bs-interval="2000">
                    <a th:href="@{/recipe/{id}(id=${idmeal})}">
                        <img th:src="${strMealThumb}">

                    <a th:href="@{/recipe/52772}">

                        <div id="displayMealThumb2"></div>
                    </a>
                    <h2 id="displayMealTitle2"></h2>
                    <div class="carousel-caption d-none d-md-block"></div>
                </div>
                <div class="carousel-item">
                    <a th:href="@{'/recipe/' + ${idmeal}}">
                        <img  th:src="${strMealThumb}">
                    </a>
                    <h2 id="displayMealTitle3"></h2>
                    <div class="carousel-caption d-none d-md-block"></div>
                </div>
            </div>
            <div class="carousel-inner">
                <div class="carousel-item active " data-bs-interval="10000" sec:authorize="!isAuthenticated()">
                    <a th:href="@{/login}">
                        <div id="displayMealThumb4"></div>
                    </a>
                    <h2 id="displayMealTitle4"></h2>
                    <div class="carousel-caption d-none d-md-block"></div>
                </div>
                <div class="carousel-item" data-bs-interval="2000" sec:authorize="!isAuthenticated()">
                    <a th:href="@{/login}">
                        <div id="displayMealThumb5"></div>
                    </a>
                    <h2 id="displayMealTitle5"></h2>
                    <div class="carousel-caption d-none d-md-block"></div>
                </div>
                <div class="carousel-item" sec:authorize="!isAuthenticated()">
                    <a th:href="@{/login}">
                        <div id="displayMealThumb6"></div>
                    </a>
                    <h2 id="displayMealTitle6"></h2>
                    <div class="carousel-caption d-none d-md-block"></div>
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
    </div>
</div>

<br>
<p class="fw-lighter">Outofmilk is a Grocery List is a website that helps you make your grocery list in a more organized and convenient way. It allows you to create a list and categorize your items. You can also search for recipes and add the ingredients needed for those recipes directly to your list. If you have some ingredients at home already, you can also add them to a pantry tracker to help you avoid buying duplicates. The website may also have some extra features, like showing pricing and nutrition information, letting users share their own recipes, and helping users find stores nearby.</p>
<footer th:insert="partial/partials :: footer"></footer>
</body>
</html>